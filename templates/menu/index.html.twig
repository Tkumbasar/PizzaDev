


{% extends 'base.html.twig' %}

{% block title %}Liste des Menus{% endblock %}

{% block body %}
    <h1>Liste des Menus</h1>

    <ul class="menu-list">
        {% for menu in menus %}
            <li class="menu-item">
                <div class="max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
                    <div class="p-4">
                        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">{{ menu.name }}</h2>
                        <p class="text-gray-700 dark:text-gray-400">{{ menu.description }}</p>
                        {% if menu.picture %}
                            <img src="{{ menu.picture }}" alt="{{ menu.name }}" class="rounded-lg mt-3">
                        {% endif %}
                        <p class="text-gray-900 dark:text-gray-300 mt-2">Prix : {{ menu.price }}</p>
                        <button class="btn btn-primary mt-3 view-comments" data-menu-id="{{ menu.id }}" data-comments-url="{{ path('menu_comments_ajax') }}">
                            Voir les commentaires
                        </button>
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>

    <!-- Modal pour afficher les commentaires -->
    <div class="modal" id="commentsModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="commentsContent">
                <!-- Contenu dynamique chargÃ© via AJAX -->
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('javascript/menu_index.js') }}"></script>
{% endblock %}

